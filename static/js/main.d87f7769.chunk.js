(this["webpackJsonpbooks-website"]=this["webpackJsonpbooks-website"]||[]).push([[0],{48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var o=n(2),a=n.n(o),s=n(23),r=n.n(s),c=(n(48),n(49),n(50),n(51),n(52),n(53),n(8)),i=n(1),l=a.a.createContext();function d(e){var t=a.a.useState(!1),n=Object(c.a)(t,2),o=n[0],s=n[1];return Object(i.jsx)(l.Provider,{value:{showPopup:o,updateStatePopup:function(e){s(e)}},children:e.children})}function u(e){return Object(i.jsx)("div",{className:"popup",onAnimationEnd:e.handleAnimationEnd,children:e.text})}u.defaultProps={text:"Please, specify a text"};var b=n(5),j=n(11),h=n(27);function O(e){return Object(i.jsx)("div",{children:Object(i.jsx)(j.b,{to:e.destination,className:"clear-link",style:{color:"white"},children:Object(i.jsxs)("button",{type:"button",className:"button goback-button",children:[Object(i.jsx)(h.a,{className:"goback-icon"}),Object(i.jsx)("span",{children:"Return to books"})]})})})}function p(e){return Object(i.jsx)("header",{children:e.drawGoBack?Object(i.jsx)(O,{destination:"/"}):""})}O.defaultProps={destination:"/"};var m=n.p+"static/media/spinner.d3911028.svg";function v(){return Object(i.jsx)("section",{className:"container",children:Object(i.jsx)("img",{className:"loader",src:m,alt:"Loading...",width:"300",height:"300"})})}var f=n.p+"static/media/close.c39ccb73.svg";function x(){return Object(i.jsx)("div",{onClick:function(){},children:Object(i.jsx)("img",{src:f,alt:"Close",className:"icon delete-saved-book",width:"50",height:"50"})})}function g(e){var t,n,o,a,s=e.book.volumeInfo,r=s.title,c=s.imageLinks,l=s.description;console.log("props book",e.book.saleInfo);var d=null===(t=e.book.volumeInfo.authors)||void 0===t?void 0:t.join(", "),u=null===(n=e.book.volumeInfo.categories)||void 0===n?void 0:n.join(" "),b="";(null===(o=e.book.volumeInfo.publishedDate)||void 0===o?void 0:o.length)>0&&(b=new Date(e.book.volumeInfo.publishedDate).getFullYear());var j=null===(a=e.book.volumeInfo)||void 0===a?void 0:a.pageCount,h=null===c||void 0===c?void 0:c.thumbnail;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("header",{className:"relative-parent",children:[Object(i.jsxs)("h1",{children:[Object(i.jsx)("i",{children:"Information about"})," ",r]}),h?Object(i.jsx)("img",{src:h,alt:"Copertina"}):Object(i.jsx)("h3",{children:"No preview available"}),e.drawDeleteButton&&Object(i.jsx)(x,{bookId:e.book.id})]}),Object(i.jsx)("main",{children:Object(i.jsxs)("div",{className:"book-body",children:[Object(i.jsxs)("span",{className:"book-section",children:[Object(i.jsx)("b",{children:r})," \xe8 un libro ",d?"scritto da ".concat(d):""," ",d&&b?" e ":""," ",b?"pubblicato nel ".concat(b,"."):"","Appartiene al genere ",Object(i.jsx)("b",{children:u})," e conta ",j," pagine"]}),l&&Object(i.jsxs)("article",{className:"book-section",children:[Object(i.jsx)("header",{children:Object(i.jsx)("h3",{className:"section-title",children:"Trama"})}),Object(i.jsx)("section",{children:Object(i.jsx)("div",{children:l})})]})]})})]})}var y=n(14),k=n(15),w=n(17),N=n(16),E=function(e){Object(w.a)(n,e);var t=Object(N.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(k.a)(n,[{key:"render",value:function(){var e,t,n,o=Object(i.jsx)("div",{});return o=(null===(e=this.props.saleInfo)||void 0===e||null===(t=e.listPrice)||void 0===t?void 0:t.amount)?Object(i.jsxs)("div",{className:"container book-row",children:[Object(i.jsx)("h4",{children:"Prezzo: "}),Object(i.jsxs)("span",{children:["\u20ac",this.props.saleInfo.listPrice.amount]})]}):Object(i.jsx)("div",{className:"container",children:Object(i.jsx)("h3",{children:"No price available"})}),Object(i.jsxs)("footer",{className:"flex-container",children:[o,(null===(n=this.props.saleInfo)||void 0===n?void 0:n.buyLink)&&Object(i.jsx)("div",{className:"container",children:Object(i.jsx)("a",{href:this.props.saleInfo.buyLink,target:"_blank",className:"link clear-link",rel:"noreferrer",children:Object(i.jsx)("span",{children:"Buy Now"})})})]})}}]),n}(o.Component);function S(){var e=a.a.useState(!1),t=Object(c.a)(e,2),n=t[0],o=t[1],s=function(e){o(e.innerWidth<768)};return a.a.useEffect((function(){return s(window),window.addEventListener("resize",(function(e){return s(e.target)})),window.removeEventListener("resize",s)}),[]),n}E.defaultProps={saleInfo:{listPrice:{amount:0},buyLink:"Unavailable"},buyLink:""};var I=n(6),C=n.n(I);function L(e){return Object(i.jsx)("span",{className:"error-message",children:e.message})}function B(e){var t=Object(o.useState)(!0),n=Object(c.a)(t,2),a=n[0],s=n[1],r=Object(o.useState)({}),l=Object(c.a)(r,2),d=l[0],u=l[1],b=Object(o.useState)({isError:!1,msg:""}),j=Object(c.a)(b,2),h=j[0],O=j[1],p=S();return Object(o.useEffect)((function(){s(!0),C()("".concat("https://www.googleapis.com/books/v1/volumes","/").concat(e.bookId)).then((function(e){u(e.data),s(!1)})).catch((function(){O({isError:!0,msg:"Errore durante il caricamento, riprovare"})})).finally((function(){s(!1)}))}),[]),d==={}||a?Object(i.jsx)(v,{}):Object(i.jsxs)("section",{className:"container book ".concat(p?"book-md":"book-lg","\n            ").concat(h.isError?"book-error":""),children:[h.isError&&Object(i.jsx)(L,{message:h.msg}),(null===d||void 0===d?void 0:d.volumeInfo)&&Object(i.jsx)(g,{book:d,drawDeleteButton:e.drawDeleteButton}),(null===d||void 0===d?void 0:d.saleInfo)&&Object(i.jsx)(E,{saleInfo:d.saleInfo})]})}function _(e){var t=Object(b.f)(),n=!e.drawGoBack&&null===e.drawGoBack||e.drawGoBack,o=(null===t||void 0===t?void 0:t.id)||e.id;return Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)(p,{drawGoBack:n,bookId:o}),Object(i.jsx)(B,{bookId:o,drawDeleteButton:e.drawDeleteButton})]})}function R(){return Object(i.jsxs)("div",{className:"flex flex-container container",style:{color:"grey"},children:[Object(i.jsx)(O,{destination:"/"}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("h1",{children:":/"}),Object(i.jsx)("br",{}),Object(i.jsx)("h1",{children:"Oops, qualcosa \xe8 andato storto!"}),Object(i.jsx)("br",{}),Object(i.jsx)("h3",{children:"La pagina che stai cercando di visitare non \xe8 disponibile"})]})}_.defaultProps={drawGoBack:!1,id:"",drawDeleteButton:!1};var D=n(42),T=n(13),P=n(3),A={getBooks:function(){return{type:"GET_BOOKS"}},setBooksInfos:function(e){return{type:"SET_BOOKS",payload:e}},setLoading:function(){return{type:"SET_LOADING"}},setOrderBy:function(e){return{type:"SET_ORDERBY",payload:e}},stopLoading:function(){return{type:"STOP_LOADING"}},updateBooks:function(e){return{type:"UPDATE_BOOKS",payload:e}}},M=A,F={setQueryString:function(e){return{type:"SET_Q",payload:e}},clearQueryString:function(){return{type:"CLEAR_Q"}},throwSearchError:function(){return{type:"THROW_SEARCH_ERROR"}},setLastUrlCalled:function(e){return{type:"SET_LAST_URL_CALLED",payload:{url:e}}},setNumItemsDisplayed:function(e){return{type:"SET_NUM_ITEMS_DISPLAYED",payload:{count:e}}}},U=F,G=Object(P.a)(Object(P.a)({},M),U);function Y(){var e=Object(T.c)((function(e){return e.search})),t=e.q,n=e.isError,o=Object(T.c)((function(e){return e.books.orderBy})),a=Object(T.b)();return Object(i.jsx)("header",{className:"container searchbox-container",children:Object(i.jsx)("form",{onSubmit:function(e){return e.preventDefault()},children:Object(i.jsxs)("div",{className:"searchbox-group",children:[Object(i.jsxs)("div",{style:{position:"absolute"},children:[Object(i.jsxs)("select",{className:"button search-orderby",defaultValue:"orderby",onChange:function(e){a(G.setOrderBy(e.target.value))},children:[Object(i.jsx)("option",{value:"orderby",disabled:!0,children:"Order by"}),Object(i.jsx)("option",{value:"newest",children:"Newest"}),Object(i.jsx)("option",{value:"relevance",children:"Relevance"})]}),Object(i.jsx)(D.a,{className:"icon-angleDown icon"})]}),Object(i.jsx)("input",{type:"text",placeholder:"Inserisci un titolo",name:"searchbox",id:"searchbox",onChange:function(e){a(G.setQueryString(e.target.value))},value:t}),Object(i.jsx)("div",{style:{position:"absolute",right:0},children:Object(i.jsx)("div",{className:"searchbox-wrapper-item",children:Object(i.jsx)("button",{type:"submit",onClick:function(){if(a(G.setLoading()),t.length>0&&!n){var e="".concat("https://www.googleapis.com/books/v1/volumes","?q=").concat(t);""!==o&&(e+="&orderBy=".concat(o)),C.a.get(e).then((function(t){if(t.data.items){a(G.setBooksInfos(t.data)),a(G.setLastUrlCalled(e));var n=t.data.items.length<10?t.data.items.length:10;a(G.setNumItemsDisplayed(n))}}))}else a(G.throwSearchError()),a(G.stopLoading())},className:"button",children:"Invia"})})})]})})})}var V=n(18),Q=function(e){Object(w.a)(n,e);var t=Object(N.a)(n);function n(e){var o;return Object(y.a)(this,n),(o=t.call(this,e)).state={hoverClass:"",showSavedMsg:!1,textPopup:""},o.showActionsButtons=o.showActionsButtons.bind(Object(V.a)(o)),o.showPopup=o.showPopup.bind(Object(V.a)(o)),o.handleAnimationEnd=o.handleAnimationEnd.bind(Object(V.a)(o)),o}return Object(k.a)(n,[{key:"showActionsButtons",value:function(e){this.setState({hoverClass:e?"outline-button-hover":""})}},{key:"showPopup",value:function(e){this.state.showSavedMsg||this.setState({showSavedMsg:!0,textPopup:e})}},{key:"handleAnimationEnd",value:function(){this.setState({showSavedMsg:!1})}},{key:"saveBook",value:function(e){console.log("id libro --\x3e ".concat(e)),C()("".concat("http://localhost:3500","/api/books/save"),{method:"POST",headers:{"Content-Type":"application/json"},data:{bookId:e},withCredentials:!0}).then((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("section",{className:"book book-md",onMouseOver:function(){e.showActionsButtons(!0)},onMouseOut:function(){e.showActionsButtons(!1)},children:[Object(i.jsx)("h3",{children:this.props.title}),Object(i.jsxs)("div",{className:"book-row",children:[Object(i.jsx)("b",{children:"Authors: "}),Object(i.jsx)("span",{children:this.props.authors})]}),Object(i.jsxs)("div",{className:"book-row",children:[Object(i.jsx)("b",{children:"Category: "}),Object(i.jsx)("span",{children:this.props.categories})]}),Object(i.jsxs)("div",{className:"book-row",children:[Object(i.jsx)("b",{children:"Published By: "}),Object(i.jsx)("span",{children:this.props.publisher})]}),Object(i.jsxs)("div",{className:"book-row",children:[Object(i.jsx)("b",{children:"Released at "}),Object(i.jsx)("span",{children:this.props.date})]}),this.state.showSavedMsg&&Object(i.jsx)(u,{text:this.state.textPopup,handleAnimationEnd:this.handleAnimationEnd}),this.props.image&&Object(i.jsx)("div",{className:"book-row",style:{display:"inline-block"},children:Object(i.jsx)("img",{src:this.props.image,alt:this.props.title})}),Object(i.jsxs)("div",{className:"hover-buttons",children:[Object(i.jsx)(j.b,{to:"/book/".concat(this.props.id),className:"clear-link",children:Object(i.jsx)("button",{className:"outline-button ".concat(this.state.hoverClass),children:"About it"})}),Object(i.jsx)("button",{className:"outline-button clear-links ".concat(this.state.hoverClass),onClick:function(){return e.saveBook(e.props.id)},children:"Save"})]})]})})}}]),n}(o.Component);Q.defaultProps={id:"",authors:"No authors available",categories:"No category available",publisher:"No publisher available"};var q=n(43);function z(){var e=Object(o.useState)(!1),t=Object(c.a)(e,2),n=t[0],a=t[1],s=function(){window.scrollY<150?a(!1):n||a(!0)};return Object(o.useEffect)((function(){return window.addEventListener("scroll",s),function(){window.removeEventListener("scroll",s)}}),[]),Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"goup",id:"goup",onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},style:{opacity:n?1:0},children:Object(i.jsx)(h.b,{})})})}function H(e){var t=e.books,n=Object(T.c)((function(e){return e.search})),o=n.lastUrlCalled,a=n.showedItems,s=Object(T.b)();return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(q.a,{dataLength:a,next:function(){C.a.get("".concat(o,"&startIndex=").concat(a)).then((function(e){if(e.data.items){s(G.updateBooks(e.data.items));var t=a;t+=e.data.items.length<10?e.data.items.length:10,s(G.setNumItemsDisplayed(t))}}))},hasMore:!0,loader:Object(i.jsx)("h3",{className:"infinitescroll-loading",children:"Loading more books..."}),endMessage:Object(i.jsx)("p",{style:{textAlign:"center"},children:Object(i.jsx)("b",{children:"Yay! You have seen it all"})}),children:Object(i.jsx)("div",{className:"books",children:t.map((function(e){var t,n,o,a=e.volumeInfo,s=a.publisher,r=a.title,c=a.imageLinks,l=null===(t=e.volumeInfo.authors)||void 0===t?void 0:t.join(", "),d=null===(n=e.volumeInfo.categories)||void 0===n?void 0:n.join(" "),u="";(null===(o=e.volumeInfo.publishedDate)||void 0===o?void 0:o.length)>0&&(u=function(e){var t=e.getDate(),n=e.getMonth(),o=e.getHours(),a=e.getMinutes(),s=e.getFullYear();return n=n+1<10?"0".concat(n+1):n,t=t<10?"0".concat(t):t,o=o<10?"0".concat(o):o,a=a<10?"0".concat(a):a,"".concat(s,"/").concat(n,"/").concat(t," ").concat(o,":").concat(a)}(new Date(e.volumeInfo.publishedDate)));var b={authors:l,publisher:s,date:u,title:r,categories:d,image:null===c||void 0===c?void 0:c.thumbnail,id:e.id};return Object(i.jsx)(Q,Object(P.a)({},b),e.id)}))})}),Object(i.jsx)(z,{})]})}function K(){var e=Object(T.c)((function(e){return e.books})),t=e.items,n=e.totalItems,o=e.isLoading,a=Object(T.c)((function(e){return e.search})).showedItems;return o?Object(i.jsx)(v,{}):0===t.length?Object(i.jsx)("section",{className:"container booksContainer",children:Object(i.jsx)("h2",{children:"Fai la tua prima ricerca"})}):Object(i.jsxs)("section",{className:"container booksContainer",children:[Object(i.jsxs)("header",{style:{margin:"2em"},children:[Object(i.jsxs)("h2",{children:["La tua ricerca ha prodotto ",n," risultati"]}),Object(i.jsxs)("h4",{children:["Attualmente vengono visualizzati ",a," elementi"]})]}),Object(i.jsx)(H,{books:t})]})}var X=function(e){C()("".concat("http://localhost:3500","/authenticated"),{method:"POST",headers:{"Content-Type":"application/json"},withCredentials:!0}).then((function(t){return function(e,t){var n;(null===(n=e.data.body)||void 0===n?void 0:n.errorMessage)&&t()}(t,e)}))},W=function(e){Object(w.a)(n,e);var t=Object(N.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(k.a)(n,[{key:"componentDidMount",value:function(){var e=this;X((function(){return e.props.history.push("/login")}))}},{key:"render",value:function(){return Object(i.jsxs)("main",{children:[Object(i.jsx)(Y,{}),Object(i.jsx)(K,{})]})}}]),n}(a.a.Component),J=function(e){Object(w.a)(n,e);var t=Object(N.a)(n);function n(e){var o;return Object(y.a)(this,n),(o=t.call(this,e)).state={savedBooks:[],loading:!0},o}return Object(k.a)(n,[{key:"componentDidMount",value:function(){var e=this;X((function(){return e.props.history.push("/login")})),C()("".concat("http://localhost:3500","/api/books/saved"),{method:"POST",headers:{"Content-Type":"application/json"},withCredentials:!0}).then((function(t){var n,o;200===t.data.status&&!(null===(n=t.data.body)||void 0===n?void 0:n.errorMessage)&&(null===(o=t.data.body)||void 0===o?void 0:o.books)&&(console.log(t.data.body.books),e.setState({loading:!1,savedBooks:t.data.body.books}))}))}},{key:"render",value:function(){return Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)(O,{destination:"/"}),Object(i.jsxs)("article",{className:"container",children:[Object(i.jsx)("header",{children:Object(i.jsx)("h1",{children:"Libri salvati"})}),this.state.loading&&Object(i.jsx)(v,{}),!this.state.loading&&Object(i.jsxs)("section",{className:"container",children:[0===this.state.savedBooks.length&&Object(i.jsx)("h2",{children:"Nessun libro salvato"}),this.state.savedBooks.map((function(e){return Object(i.jsx)("article",{className:"relative-parent",children:Object(i.jsx)(_,{id:e.book_id,drawGoBack:!1,drawDeleteButton:!0},e.book_id)},e.book_id)}))]})]})]})}}]),n}(a.a.Component),Z=function(e){Object(w.a)(n,e);var t=Object(N.a)(n);function n(e){var o;return Object(y.a)(this,n),(o=t.call(this,e)).state={errorMessage:""},o.handleSubmitForm=o.handleSubmitForm.bind(Object(V.a)(o)),o.removeErrorClass=o.removeErrorClass.bind(Object(V.a)(o)),o.setErrorValidation=o.setErrorValidation.bind(Object(V.a)(o)),o.usernameRef=a.a.createRef(null),o.passwordRef=a.a.createRef(null),o}return Object(k.a)(n,[{key:"setErrorValidation",value:function(e){this.usernameRef.current.classList.add("form-control-input-error"),this.passwordRef.current.classList.add("form-control-input-error"),this.setState({errorMessage:e})}},{key:"handleSubmitForm",value:function(e){var t=this;if(e.preventDefault(),""!==this.usernameRef.current.value&&""!==this.passwordRef.current.value){var n={username:this.usernameRef.current.value,password:this.passwordRef.current.value};C.a.post("".concat("http://localhost:3500","/login"),n,{headers:{"Content-Type":"application/json"},withCredentials:!0}).then((function(e){var n;console.log(e.data),200!==e.data.status||(null===(n=e.data.body)||void 0===n?void 0:n.errorMessage)?t.setErrorValidation(e.data.body.errorMessage):t.props.history.push("/")}))}else this.setErrorValidation("Please validate fields before submit!")}},{key:"removeErrorClass",value:function(){this.usernameRef.current.className.includes("form-control-input-error")&&(this.usernameRef.current.classList.remove("form-control-input-error"),this.passwordRef.current.classList.remove("form-control-input-error"),this.setState({errorMessage:""}))}},{key:"render",value:function(){return Object(i.jsxs)("div",{className:"container flex-container form-container",children:[Object(i.jsx)("h1",{className:"title",children:"Login"}),Object(i.jsx)(L,{message:this.state.errorMessage}),Object(i.jsxs)("form",{method:"POST",action:"/",onSubmit:this.handleSubmitForm,className:"flex-container form-container",children:[Object(i.jsx)("input",{type:"text",className:"form-control-input",ref:this.usernameRef,placeholder:"Username",onFocus:this.removeErrorClass}),Object(i.jsx)("input",{type:"password",className:"form-control-input",ref:this.passwordRef,placeholder:"Password",onChange:this.removeErrorClass}),Object(i.jsx)("button",{type:"submit",className:"button",children:"Submit"})]})]})}}]),n}(o.Component);function $(e){var t=a.a.createRef(),n=a.a.createRef(),o=a.a.createRef(),s=a.a.useState("");return Object(i.jsxs)("div",{className:"container flex-container",children:[Object(i.jsx)("h1",{children:"Register"}),Object(i.jsxs)("form",{onSubmit:function(a){a.preventDefault();var s={username:t.current.value,email:n.current.value,password:o.current.value};console.log(s),C.a.post("".concat("http://localhost:3500","/register"),s,{headers:{"Content-Type":"application/json"},withCredentials:!0}).then((function(t){var n;console.log(t),(null===(n=t.data.body)||void 0===n?void 0:n.errorMessage)?console.error(t.data.body.errorMessage):e.history.push("/login")}))},className:"flex-container form-container",children:[Object(i.jsx)("input",{type:"email",className:"form-control-input",ref:n,placeholder:"Email"}),Object(i.jsx)("input",{type:"text",className:"form-control-input",ref:t,placeholder:"Username"}),Object(i.jsx)("input",{type:"password",className:"form-control-input",ref:o,placeholder:"Password"}),Object(i.jsx)("button",{type:"submit",className:"button",children:"Submit"})]}),Object(i.jsx)(L,{message:s})]})}function ee(e){return Object(i.jsx)(i.Fragment,{children:e.items.map((function(e){return Object(i.jsx)("nav",{children:Object(i.jsx)(j.b,{to:e.url,className:"clear-link",children:Object(i.jsx)("button",{className:"bordered-button",style:{opacity:1},children:e.displayName})})},e.id)}))})}var te=n(84);function ne(e){var t=a.a.useState(!1),n=Object(c.a)(t,2),o=n[0],s=n[1];return Object(i.jsxs)("nav",{className:"menu-mobile-container ".concat(o?"menu-mobile-container-open":""," "),children:[Object(i.jsx)(te.a,{toggled:o,toggle:s,color:"#35d77e"}),Object(i.jsx)("div",{className:"menu-mobile-body ".concat(o?"":"hidden"),children:e.items.map((function(e){return Object(i.jsx)("nav",{onClick:function(){return s(!1)},children:Object(i.jsx)(j.b,{to:e.url,className:"clear-link",children:Object(i.jsx)("button",{className:"bordered-button",style:{opacity:1},children:e.displayName})})},e.id)}))})]})}function oe(e){var t=S();return Object(i.jsx)("header",{className:"container menu-container ".concat(t?"menu-container-mobile":""),children:t?Object(i.jsx)(ne,{items:e.items}):Object(i.jsx)(ee,{items:e.items})})}var ae=[{id:1,displayName:"Home",url:"/"},{id:2,displayName:"Saved",url:"/books/saved"}];function se(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(oe,{items:ae}),Object(i.jsxs)(b.c,{children:[Object(i.jsx)(b.a,{path:"/",component:W,exact:!0}),Object(i.jsx)(b.a,{path:"/login",component:Z,exact:!0}),Object(i.jsx)(b.a,{path:"/register",component:$,exact:!0}),Object(i.jsx)(b.a,{path:"/books",component:W,exact:!0}),Object(i.jsx)(b.a,{path:"/book/:id",exact:!0,children:Object(i.jsx)(_,{drawGoBack:!0})}),Object(i.jsx)(b.a,{path:"/books/saved",component:J,exact:!0}),Object(i.jsx)(b.a,{children:Object(i.jsx)(R,{})})]})]})}var re=Object(b.g)((function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(d,{children:Object(i.jsx)(l.Consumer,{children:function(e){return e.showPopup?Object(i.jsxs)(a.a.Fragment,{children:[Object(i.jsx)(se,{}),Object(i.jsx)(u,{})]}):Object(i.jsx)(a.a.Fragment,{children:Object(i.jsx)(se,{})})}})})})})),ce=n(28),ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{q:"",isError:!1,showedItems:0,lastUrlCalled:""},t=arguments.length>1?arguments[1]:void 0;return"SET_Q"===t.type?Object(P.a)(Object(P.a)({},e),{},{q:t.payload,isError:!1}):"CLEAR_Q"===t.type?Object(P.a)(Object(P.a)({},e),{},{q:"",isError:!1}):"THROW_SEARCH_ERROR"===t.type?Object(P.a)(Object(P.a)({},e),{},{isError:!0}):"SET_LAST_URL_CALLED"===t.type?Object(P.a)(Object(P.a)({},e),{},{lastUrlCalled:t.payload.url}):"SET_NUM_ITEMS_DISPLAYED"===t.type?Object(P.a)(Object(P.a)({},e),{},{showedItems:t.payload.count}):e},le=n(32),de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:[],totalItems:0,isLoading:!1,orderBy:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BOOKS":return Object(P.a)(Object(P.a)({},e),{},{items:t.payload.items,totalItems:t.payload.totalItems,isLoading:!1});case"SET_LOADING":return Object(P.a)(Object(P.a)({},e),{},{isLoading:!0});case"SET_ORDERBY":return Object(P.a)(Object(P.a)({},e),{},{orderBy:t.payload});case"STOP_LOADING":return Object(P.a)(Object(P.a)({},e),{},{isLoading:!1});case"UPDATE_BOOKS":return Object(P.a)(Object(P.a)({},e),{},{items:[].concat(Object(le.a)(e.items),Object(le.a)(t.payload)),isLoading:!1});default:return e}},ue=Object(ce.a)({search:ie,books:de}),be=Object(ce.b)(ue,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());r.a.render(Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(T.a,{store:be,children:Object(i.jsx)(j.a,{children:Object(i.jsx)(re,{})})})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.d87f7769.chunk.js.map